source('~/Desktop/survival_analysis.R')
plot_surv(os_mat = res.late_stage.exp$data, cutoff = 3000)
write.table(res4, file="./late_stage_expression.txt", col.names = T, row.names = F, quote=F, sep="\t")
plot_surv(os_mat = res.early_stage.exp$data, cutoff=3000)
res.late_stage.exp <- groupSruvival(df=subset(stages, wide_stage%in%c("IV","III")), event="OS_IND", time="OS",
var="expression",time.limit = NULL, interval = "open", method = "mean",
percent = NULL,
step=5)
plot_surv(os_mat = res.late_stage.exp$data, cutoff = 3000)
res.late_stage.exp <- groupSruvival(df=subset(stages, wide_stage%in%c("IV","III")), event="OS_IND", time="OS",
var="expression",time.limit = NULL, interval = "open", method = "median",
percent = NULL,
step=5)
plot_surv(os_mat = res.late_stage.exp$data, cutoff = 3000)
## expression effect on survival of stages
res.early_stage.exp <- groupSruvival(df=subset(stages, wide_stage%in%c("I")), event="OS_IND", time="OS",
var="expression",time.limit = NULL, interval = "open", method = "median",
percent = NULL,
step=5)
head(res.early_stage.exp$cutoff$pval_list[order(res.early_stage.exp$cutoff$pval_list)],100)
head(res.early_stage.exp$cutoff$cutoff_list[order(res.early_stage.exp$cutoff$pval_list)],100)
plot_surv(os_mat = res.early_stage.exp$data, cutoff=3000)
## expression effect on survival of stages
res.early_stage.exp <- groupSruvival(df=subset(stages, wide_stage%in%c("I")), event="OS_IND", time="OS",
var="expression",time.limit = NULL, interval = "open", method = "mean",
percent = NULL,
step=5)
head(res.early_stage.exp$cutoff$pval_list[order(res.early_stage.exp$cutoff$pval_list)],100)
head(res.early_stage.exp$cutoff$cutoff_list[order(res.early_stage.exp$cutoff$pval_list)],100)
plot_surv(os_mat = res.early_stage.exp$data, cutoff=3000)
## expression effect on survival of stages
res.early_stage.exp <- groupSruvival(df=subset(stages, wide_stage%in%c("I")), event="OS_IND", time="OS",
var="expression",time.limit = NULL, interval = "open", method = "percent",
percent = 0.15,
step=5)
plot_surv(os_mat = res.early_stage.exp$data, cutoff=3000)
res.late_stage.exp <- groupSruvival(df=subset(stages, wide_stage%in%c("IV","III")), event="OS_IND", time="OS",
var="expression",time.limit = NULL, interval = "open", method = "percent",
percent = 0.15,
step=5)
plot_surv(os_mat = res.late_stage.exp$data, cutoff = 3000)
